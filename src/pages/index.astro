---
import Layout from '@/layouts/Layout.astro';
import Hero from '@/sections/Hero.astro';
import Countdown from '@/sections/Countdown.astro';
import PrincipalDate from '@/sections/PrincipalDate.astro';
import Party from '@/sections/Party.astro';
import Intro from '@/sections/Intro.astro';
import '../styles/css/index.css';
---

<Layout title="Cumple de Galia">
  <main id="intro-section" aria-label="Intro de bienvenida">
    <Intro />
  </main>

  <main id="main-content" class="hidden" aria-label="Contenido principal">
    <Hero />
    <section class="p-4">
      <Countdown />
      <PrincipalDate />
      <Party />
    </section>
  </main>
</Layout>

<script>
  document.addEventListener('startTransition', () => {
    const introSection = document.getElementById('intro-section');
    const mainContent = document.getElementById('main-content');

    if (introSection && mainContent) {
      introSection.style.animation = 'fadeOut 0.8s forwards';

      setTimeout(() => {
        introSection.style.display = 'none';
        mainContent.classList.remove('hidden');
        mainContent.style.animation = 'fadeIn 1s forwards';
      }, 800);
    }
  });
</script>
